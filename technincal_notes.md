# Technical Notes

This document lists the external tools, APIs, libraries, and key technical implementations used in the Gollora project.

## 1. External APIs

- **Google Gemini API:**
  - **Usage:** This is the core Large Language Model (LLM) used throughout the application.
  - **Endpoint:** `https://generativelanguage.googleapis.com`
  - **Models Used:**
    - `gemini-1.5-flash`: For all generative tasks, including AI analysis, severity scoring, Q&A routing, and response formatting. Chosen for its balance of speed, cost, and capability.
    - `text-embedding-004`: For generating vector embeddings for the RAG system in the Q&A agent.
  - **Integration:** The client is implemented in `internal/ai/ai.go`.

## 2. External Tools (Static Analysis)

- **golangci-lint:**
  - **Usage:** The primary static analysis tool for Go. It bundles many different linters into a single, fast runner.
  - **Integration:** Executed as a subprocess in `internal/analyzers/golang.go`. The output is parsed to create standardized `CodeIssue` models.

- **flake8:**
  - **Usage:** The primary static analysis tool for Python, checking for style and logical errors.
  - **Integration:** Executed as a subprocess in `internal/analyzers/python_analyzer.go`.

## 3. Key Go Libraries

- **`golang.org/x/mod/modfile`:**
  - **Usage:** Used in `cmd/review_engine.go` to parse the `go.mod` file for dependency graph generation. This is the official Go library, ensuring accuracy.

- **`github.com/gorilla/websocket`:**
  - **Usage:** Powers the real-time communication between the web UI and the backend for the `/qa` and `/analyze` pages. Essential for the interactive, streaming-log experience.

- **`gopkg.in/yaml.v3`:**
  - **Usage:** Used to parse the `config.yaml` and `analysis_tools.yaml` files, providing the core configuration for the application.

## 4. Frontend Libraries (via CDN)

- **`Chart.js`:**
  - **Usage:** Used in `web/analyze.html` to render the dashboard charts (pie, doughnut, bar). Chosen for its simplicity and excellent documentation.

- **`Marked.js`:**
  - **Usage:** Used in `web/analyze.html` to parse the Markdown-formatted analysis report into HTML for rendering in the browser.

- **`Mermaid.js`:**
  - **Usage:** Used in `web/analyze.html` to render the dependency graph from the Mermaid-syntax string generated by the backend.

## 5. Creative Features & Integrations

- **AST-Powered Q&A:** A custom-built tool in `internal/tools/ast_tool.go` uses Go's native `go/parser` and `go/ast` packages. This allows the Q&A agent to answer questions with 100% accuracy for supported queries, bypassing the potential for LLM hallucination.

- **AI Severity Scoring:** The `scoreSeverityWithAI` function in `cmd/aggregator.go` is a novel feature that uses the LLM to add contextual understanding to static analysis, making the final report significantly more intelligent.

- **Hybrid RAG/Tool-Use Agent:** The Q&A agent in `internal/agent/agent.go` is not a simple RAG bot. It uses an LLM-based router to intelligently switch between vector search (RAG) and deterministic tools (AST parsing), representing a more advanced agentic pattern.